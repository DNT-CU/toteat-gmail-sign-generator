<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Generador de firmas personalizadas para Gmail.">
  <link rel="stylesheet" href="styles.css">
  <link rel="shortcut icon" href="img/favicon-firma.png">

  <title>Generador de Firmas | Toteat</title>
</head>
<body>

  <div class="container">
    <div class="info-box">
        <h1>Generador de firmas</h1>
        <p>Ingresa tu nombre, cargo y nÃºmero de celular para obtener tu firma digital personalizada para Gmail.</p>
        <h3>Â¿CÃ³mo funciona?</h3>
        <p>DespuÃ©s de ingresar tus datos, se generarÃ¡ una firma que incluya el contenido que cargaste.</p>
        <h3>Â¿QuÃ© hago despuÃ©s?</h3>
        <p>Tras generar la firma, debes copiar el contenido y pegarlo en el mismo lugar donde actualizas tu firma en Gmail. TambiÃ©n puedes pegarlo en el cuerpo de tus correos.</p>
    </div>

    <form class="form-box">

    <label for="nombre"><p>Ingresa tu nombre</p></label>
    <input type="text" id="nombre" placeholder="Gordon Ramsay"  required>

    <label for="cargo"><p>Ingresa tu cargo</p></label>
    <input type="text" id="cargo" placeholder="Country Manager" required>

    <label for="telefono"><p>Ingresa tu nÃºmero de telÃ©fono</p></label>
    <input type="tel" id="telefono" placeholder="+569 27362978" required>

      <label for="pais"><p>Selecciona tu paÃ­s</p></label>
      <select id="pais" required>
        <option value="Chile" selected>Chile</option>
        <option value="Colombia">Colombia</option>
        <option value="Mexico">MÃ©xico</option>
        <option value="Argentina">Argentina</option>
        <option value="Peru">Peru</option>
      </select>


        <label for="imagen"><p>Â¿Necesitas otra imagen en la firma?</p></label>
        <div class="file-upload" id="drop-zone">
            <input type="file" id="imagen" accept="image/*">
            <p>Arrastra aquÃ­ una imagen para subir</p>

    </div>    

      <button type="button" class="generate-button" onclick="actualizarFirma()">Generar Firma</button>
    </form>
    <div class="preview-container">
        <h3>Preview</h3>
        <div id="firmaPreview">
            <table 
            style="max-width: 500px; 
            font-family: Arial, sans-serif; 
            font-size: 14px; line-height: 1.5; 
            border-collapse: collapse; 
            ">
                <tr style="display: flex; flex-direction: row; vertical-align: center;">
                  <!-- Columna izquierda: Logo -->
                  <td style="vertical-align: center; padding-right: 15px; width: 120px; margin-top: 24px; border-right: 16px;">
                      <img src="img/ANIM_LOGO-TOTEAT-LOOP1.gif" alt="logo-toteat" href="https://www.toteat.com" style="max-width: 146px;">
                  </td>
                  
                  <!-- Columna central: LÃ­nea -->
    
                  <td style="width: 15%; text-align: center;">
                    <img src="img/linea-separadora.png" alt="linea separadora">
                  </td>
    
                  <!-- Columna derecha: InformaciÃ³n personal -->
                  <td style="vertical-align: top; max-width: 290px;">
                    <strong style="color: #f05656; font-size: 16px;" id="firmaNombre">Gordon Ramsay</strong><br>
                    <span style="font-weight: 300; margin: 0;" id="firmaCargo">Country Manager</span><br>
                    <span id="firmaTelefono" style="font-weight: 300; margin: 0;">+569 27362978</span><br>
                    <span id="firmaDireccion" style="font-weight: 300; margin: 0;">Vitacura 2771, Of. 504, Las Condes</span>
                  </td>
                </tr>
                
                <!-- Fila con la imagen promocional -->
                <tr>
                  <td colspan="3" style="padding-top: 10px;">
                    <a id="urlLanding" href="#"><img id="firmaImagen" src="img/Referidos-CL.png" width="100%" style="display: block; border-radius: 8px;"></a>
                  </td>
                </tr>
              </table>
        </div>
        <button type="button" class="secondary-button" onclick="copiarFirma()">ðŸ“‹ Copiar Firma</button>
      </div>

</div>



  <script>
    function actualizarFirma() {
      document.getElementById('firmaNombre').textContent = document.getElementById('nombre').value;
      document.getElementById('firmaTelefono').textContent = document.getElementById('telefono').value;
      document.getElementById('firmaCargo').textContent = document.getElementById('cargo').value;

      let direcciones = {
        'Chile': 'Av. Vitacura 2771, Oficina 504, Las Condes, Chile.',
        'Colombia': 'Carrera 11B #99-25, Torre 2 Piso 8. Wework calle 99, BogotÃ¡.',
        'Mexico': 'Av. P.Âº de la Reforma 222 Piso 18, JuÃ¡rez, CuauhtÃ©moc, 06600 CDMX.'
      };

      let pais = document.getElementById('pais').value;
      document.getElementById('firmaDireccion').textContent = direcciones[pais] || ' ';

      actualizarImagenFirmaOpciones();
    }

    function copiarFirma() {
      const firmaHTML = document.getElementById('firmaPreview').innerHTML;

      navigator.clipboard.write([
        new ClipboardItem({
          'text/html': new Blob([firmaHTML], { type: 'text/html' })
        })
      ]).then(() => {
        alert('Firma copiada con Ã©xito!');
      }).catch(() => {
        alert('Error al copiar la firma.');
      });
    }

    document.getElementById('imagen').addEventListener('change', actualizarImagenFirma);
    document.getElementById('drop-zone').addEventListener('dragover', (event) => {
    event.preventDefault();
    event.target.style.border = "2px dashed #f05656"; 
    });

    document.getElementById('drop-zone').addEventListener('dragleave', (event) => {
    event.preventDefault();
    event.target.style.border = "2px dashed #dddddd"; 
    }); 

    document.getElementById('drop-zone').addEventListener('drop', (event) => {
    event.preventDefault();
    event.target.style.border = "2px dashed #dddddd";

    const file = event.dataTransfer.files[0];
    if (file) {
        document.getElementById('imagen').files = event.dataTransfer.files; // Asignar el archivo al input
        actualizarImagenFirma({ target: document.getElementById('imagen') });
    }
});

function actualizarImagenFirma(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();

        reader.onload = function(e) {
            let firmaImagen = document.getElementById('firmaImagen');

            if (!firmaImagen) {
                firmaImagen = document.createElement('img');
                firmaImagen.id = 'firmaImagen';
                firmaImagen.style.maxWidth = '150px';
                firmaImagen.style.marginTop = '10px';
                document.getElementById('firmaPreview').appendChild(firmaImagen);
            }

            firmaImagen.src = e.target.result;
        };

        reader.readAsDataURL(file);
    } else {
        const firmaImagen = document.getElementById('firmaImagen');
        if (firmaImagen) {
            firmaImagen.remove();
        }
    }
}

function actualizarImagenFirmaOpciones() {
    let imagenesReferidos = {
        'Chile': 'img/Referidos-CL.png',
        'Mexico': 'img/Referidos-MX.png',
        'Colombia': 'img/Referidos-CO.png',
        'Peru': 'img/Referidos-PE.png',
        'Argentina': 'img/Referidos-AR.png'
    };
    let urlsReferidos = {
        'Chile': 'https://referido.toteat.com/chile',
        'Mexico': 'https://referido.toteat.com/mexico',
        'Colombia': 'https://referido.toteat.com/colombia',
        'Peru': 'https://referido.toteat.com/peru',
        'Argentina': 'https://referido.toteat.com/argentina'
    };

    let paisSeleccionado = document.getElementById('pais').value;
    let firmaImagen = document.getElementById('firmaImagen');
    let urlLanding = document.getElementById('urlLanding');

    if (firmaImagen) {
            firmaImagen.src = imagenesReferidos[paisSeleccionado];
        }

        if (urlLanding) {
            urlLanding.href = urlsReferidos[paisSeleccionado];
            urlLanding.target = "_blank";
        }
}

document.getElementById('pais').addEventListener('change', actualizarImagenFirmaOpciones);


  </script>

</body>
</html>
